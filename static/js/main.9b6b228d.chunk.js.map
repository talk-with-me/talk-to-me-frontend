{"version":3,"sources":["Welcome.js","ChatWindow.js","Chat.js","App.js","reportWebVitals.js","index.js"],"names":["useStyles","makeStyles","theme","content","welcomeTitle","welcomeMessage","chatButton","Welcome","classes","className","Button","variant","component","NavLink","to","root","messages","myMessage","theirMessage","inputBox","ChatWindow","props","useState","console","log","Box","map","message","incoming","id","InputBase","placeholder","onKeyDown","event","key","target","value","uuidv4","concat","axios","post","sendMessage","title","waitMessage","api_url","Chat","queueStatus","setQueueStatus","setId","secret","setSecret","setMessages","socket","setSocket","useEffect","then","request","io","connect","origins","transports","data","on","emit","user_id","topbar","menuIcon","App","Helmet","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2QAKMA,G,MAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,QAAS,CACP,QAAW,OACX,MAAS,QACT,cAAe,OACf,YAAa,QAEfC,aAAc,CACZ,MAAS,UACT,MAAS,SAEXC,eAAgB,CACd,cAAe,OACf,YAAa,OACb,MAAS,SAEXC,WAAY,CACV,aAAc,OACd,gBAAiB,OACjB,WAAc,qBACd,MAAS,QACT,YAAa,OACb,iBAAkB,MAClB,OAAU,OACV,MAAS,QACT,UAAW,CACT,WAAc,4BAmCLC,MAzBf,WACE,IAAMC,EAAUR,IAEhB,OACE,sBAAKS,UAAWD,EAAQL,QAAxB,UACE,qBAAKM,UAAWD,EAAQJ,aAAxB,mCAGA,qBAAKK,UAAWD,EAAQH,eAAxB,gJAGA,qBAAKI,UAAWD,EAAQH,eAAxB,6GAGA,cAACK,EAAA,EAAD,CACEC,QAAQ,YACRF,UAAWD,EAAQF,WACnBM,UAAWC,IACXC,GAAG,QAJL,sB,oDChDAd,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCa,KAAM,CACJ,WAAc,UACd,MAAS,OACT,MAAS,QACT,OAAU,QACV,gBAAiB,MACjB,cAAe,OACf,YAAa,OACb,QAAW,OACX,iBAAkB,UAEpBC,SAAU,CACR,KAAQ,WACR,QAAW,OACX,iBAAkB,SAClB,YAAa,OACb,QAAW,OACX,SAAY,UAEdC,UAAW,CACT,OAAU,MACV,WAAc,UACd,QAAW,cACX,aAAc,WACd,MAAS,QACT,QAAW,OACX,gBAAiB,QAEnBC,aAAc,CACZ,OAAU,MACV,WAAc,OACd,QAAW,cACX,aAAc,aACd,MAAS,QACT,QAAW,OACX,gBAAiB,QAEnBC,SAAU,CACR,QAAW,WAgEAC,MAtDf,SAAoBC,GAAQ,IAAD,EACuBC,mBAAS,IADhC,mBAEnBd,GAFmB,UAETR,KAChBuB,QAAQC,IAAIH,GAEZ,IAAML,EAAWK,EAAK,SAuBtB,OACE,eAACI,EAAA,EAAD,CAAKhB,UAAWD,EAAQO,KAAxB,UACE,qBAAKN,UAAWD,EAAQQ,SAAxB,SACGA,EAASU,KAAI,SAAAC,GAAO,OACnB,qBAEElB,UAAWkB,EAAQC,SAAWpB,EAAQU,aAAeV,EAAQS,UAF/D,SAGGU,EAAQxB,SAFJwB,EAAQE,SAMnB,cAACC,EAAA,EAAD,CAAWrB,UAAWD,EAAQW,SAC5BY,YAAY,kBACZpB,QAAQ,WACRqB,UAAY,SAACC,GACM,SAAbA,EAAMC,MACRX,QAAQC,IAAIS,EAAME,OAAOC,OAhCd,SAACjC,GACpB,IAAMwB,EAAU,CACZ,WAAcU,cACd,QAAWhB,EAAK,QAChB,OAAUA,EAAK,OACf,QAAWlB,GAGfoB,QAAQC,IAAIG,GACZN,EAAK,YAAgBL,EAASsB,OAAO,CAACX,KACtCY,IAAMC,KACJnB,EAAK,QAAc,YACnBM,GAqBMc,CAAYR,EAAME,OAAOC,OACzBH,EAAME,OAAOC,MAAQ,W,iBChG3BpC,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCa,KAAM,CACJ,OAAU,OACV,MAAS,QACT,cAAe,OACf,YAAa,QAEf2B,MAAO,CACL,MAAS,UACT,MAAS,SAEXC,YAAa,OAITC,EAAU,wBA4DDC,MArDf,WACE,IAAMrC,EAAUR,IADF,EAEwBsB,mBAAS,MAFjC,mBAEPwB,EAFO,KAEMC,EAFN,OAGMzB,mBAAS,MAHf,mBAGPO,EAHO,KAGHmB,EAHG,OAIc1B,mBAAS,MAJvB,mBAIP2B,EAJO,KAICC,EAJD,OAKkB5B,mBAAS,IAL3B,mBAKPN,EALO,KAKGmC,EALH,OAMc7B,mBAAS,MANvB,mBAMP8B,EANO,KAMCC,EAND,KAsCd,OA7BAC,qBAAU,WACRf,IAAMC,KAAKI,EAAU,UAClBW,MAAK,SAAAC,GACJH,EAAUI,IAAGC,QAAQd,EAAS,CAACe,QAAS,wBAAyBC,WAAY,CAAC,gBAC9EZ,EAAMQ,EAAQK,KAAKA,KAAKhC,IACxBqB,EAAUM,EAAQK,KAAKA,KAAKZ,QAC5B1B,QAAQC,IAAIgC,EAAQK,KAAKA,KAAKhC,GAAI2B,EAAQK,KAAKA,KAAKZ,aAEvD,IAEHK,qBAAU,WACJF,GAAUH,GAAUpB,IACtBuB,EAAOU,GAAG,WAAY,WAAOV,EAAOW,KAAK,eAAgBd,MACzDG,EAAOU,GAAG,kBAAmB,WAC3BvC,QAAQC,IAAI,kBACZ4B,EAAOW,KAAK,YAAad,GACzBF,EAAe,UAEjBK,EAAOU,GAAG,0BAA2B,SAACnC,GACpCwB,EAAYnC,EAASsB,OAAO,CAACX,WAGhC,CAACsB,EAAQpB,EAAIuB,EAAQpC,IAGxBsC,qBAAU,WACR/B,QAAQC,IAAI,uCAAwCR,KACnD,CAACA,IAGF,sBAAKP,UAAWD,EAAQO,KAAxB,UACE,qBAAKN,UAAWD,EAAQkC,MAAxB,wBAGiB,QAAhBI,EACC,cAAC,EAAD,CAAY9B,SAAUA,EAAUmC,YAAaA,EAAaa,QAASnC,EAAIoB,OAAQA,EAAQL,QAASA,IAChG,qBAAKnC,UAAWD,EAAQmC,YAAxB,yCC/DF3C,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCa,KAAM,CACJ,cAAe,UAEjBkD,OAAQ,CACN,MAAS,OACT,OAAU,OACV,WAAc,yEACd,gBAAiB,MACjB,MAAS,QACT,cAAe,OACf,iBAAkB,OAClB,QAAW,OACX,kBAAmB,iBAErBC,SAAU,CACR,YAAa,OACb,aAAc,OACd,cAAe,QAEjBxB,MAAO,CACL,cAAiB,OACjB,cAAe,MACf,MAAS,QACT,cAAe,MACf,YAAa,YAuCFyB,MA9Bf,WACE,IAAM3D,EAAUR,IAEhB,OACE,sBAAKS,UAAWD,EAAQO,KAAxB,UACE,cAACqD,EAAA,EAAD,UACE,iDAEF,eAAC,IAAD,WACE,sBAAK3D,UAAWD,EAAQyD,OAAxB,UACE,cAAC,IAAD,CAAUxD,UAAWD,EAAQ0D,WAC7B,cAACxD,EAAA,EAAD,CACED,UAAWD,EAAQkC,MACnB9B,UAAWC,IACXC,GAAG,IAHL,wBAMA,2BAEF,cAAC,IAAD,CAAOuD,OAAK,EAACC,KAAK,IAAlB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,QAAZ,SACE,cAAC,EAAD,aCvDKC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBlB,MAAK,YAAkD,IAA/CmB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,K","file":"static/js/main.9b6b228d.chunk.js","sourcesContent":["import {useEffect} from 'react';\nimport {NavLink} from 'react-router-dom';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    'padding': '80px',\n    'color': 'white',\n    'font-weight': 'bold',\n    'font-size': '32pt',\n  },\n  welcomeTitle: {\n    'color': '#ffa740',\n    'width': '900px',\n  },\n  welcomeMessage: {\n    'padding-top': '20px',\n    'font-size': '24pt',\n    'width': '900px',\n  },\n  chatButton: {\n    'margin-top': '30px',\n    'border-radius': '30px',\n    'background': 'rgba(254,131,67,1)',\n    'color': 'white',\n    'font-size': '20pt',\n    'letter-spacing': '2px',\n    'height': '60px',\n    'width': '180px',\n    '&:hover': {\n      'background': 'rgba(254,131,67,1)',\n    },\n  }\n}));\n\n/**\n * Welcome component - displays welcome message and information\n *\n * @return {object} JSX\n */\nfunction Welcome() {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.content}>\n      <div className={classes.welcomeTitle}>\n        Welcome to Talk To Me\n      </div>\n      <div className={classes.welcomeMessage}>\n        The purpose of this site is to provide a wholesome, anonymous chat service with the aim of combating the loneliness of quarantine.\n      </div>\n      <div className={classes.welcomeMessage}>\n        We are currently under construction as our frontend is undergoing major changes, so stay tuned!\n      </div>\n      <Button\n        variant='contained'\n        className={classes.chatButton}\n        component={NavLink}\n        to='/chat'>\n        Chat \n      </Button>\n    </div>\n  );\n}\n\nexport default Welcome;\n","import {useEffect, useState} from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Box from '@material-ui/core/Box';\nimport InputBase from '@material-ui/core/InputBase';\nimport axios from 'axios'\nimport {v4 as uuidv4} from 'uuid';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    'background': '#FEFEFE',\n    'color': '#333',\n    'width': '400px',\n    'height': '600px',\n    'border-radius': '5px',\n    'font-weight': 'bold',\n    'font-size': '32pt',\n    'display': 'flex', // HELL YEAH FLEXBOX\n    'flex-direction': 'column',\n  },\n  messages: {\n    'flex': '1 1 auto',\n    'display': 'flex',\n    'flex-direction': 'column',\n    'font-size': '14pt',\n    'padding': '10px',\n    'overflow': 'scroll',\n  },\n  myMessage: {\n    'margin': '4px',\n    'background': '#361999',\n    'display': 'inline-flex',\n    'align-self': 'flex-end',\n    'color': 'white',\n    'padding': '12px',\n    'border-radius': '10px',\n  },\n  theirMessage: {\n    'margin': '4px',\n    'background': '#DDD',\n    'display': 'inline-flex',\n    'align-self': 'flex-start',\n    'color': 'black',\n    'padding': '12px',\n    'border-radius': '10px',\n  },\n  inputBox: {\n    'padding': '5px',\n  }\n}));\n\n/**\n * Chat window component - Component to type and display messages\n *\n * @param {Map} props - props given to component\n * @return {object} JSX\n */\nfunction ChatWindow(props) {\n  const [textFieldContent, setTextFieldContent] = useState('');\n  const classes = useStyles();\n  console.log(props);\n\n  const messages = props['messages'];\n  /*\n  const messages = [\n    {message_id: 1, incoming: false, content: 'Hello World!', liked: false},\n  ];\n  */\n\n  const sendMessage = ((content) => {\n    const message = {\n        'message_id': uuidv4(),\n        'user_id': props['user_id'],\n        'secret': props['secret'],\n        'content': content\n      };\n\n    console.log(message);\n    props['setMessages'](messages.concat([message]));\n    axios.post(\n      props['api_url'] + '/messages',\n      message\n    );\n  });\n\n  return (\n    <Box className={classes.root}>\n      <div className={classes.messages}>\n        {messages.map(message => (\n          <div \n            key={message.id} \n            className={message.incoming ? classes.theirMessage : classes.myMessage}>\n            {message.content}\n          </div>\n        ))}\n      </div>\n      <InputBase className={classes.inputBox}\n        placeholder=\"Send a message!\"\n        variant=\"outlined\"\n        onKeyDown= {(event) => {\n          if (event.key == 'Enter') {\n            console.log(event.target.value);\n            sendMessage(event.target.value);\n            event.target.value = '';\n          }\n        }}\n      />\n    </Box>\n  );\n}\n\nexport default ChatWindow;\n","import {useState, useEffect} from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport ChatWindow from './ChatWindow';\nimport axios from 'axios';\nimport io from 'socket.io-client';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    'margin': '80px',\n    'color': 'white',\n    'font-weight': 'bold',\n    'font-size': '32pt',\n  },\n  title: {\n    'color': '#ffa740',\n    'width': '900px',\n  },\n  waitMessage: {\n  },\n}));\n\nconst api_url = 'http://localhost:8000'; // Only for testing purposes\n\n/**\n * Chat component - Chat page\n *\n * @return {object} JSX\n */\nfunction Chat() {\n  const classes = useStyles();\n  const [queueStatus, setQueueStatus] = useState('in');\n  const [id, setId] = useState(null);\n  const [secret, setSecret] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [socket, setSocket] = useState(null);\n\n  // Queue request and socket connection on component mount\n  useEffect(() => {\n    axios.post(api_url + '/queue')\n      .then(request => {\n        setSocket(io.connect(api_url, {origins: 'http://localhost:8000', transports: ['websocket']}));\n        setId(request.data.data.id);\n        setSecret(request.data.data.secret);\n        console.log(request.data.data.id, request.data.data.secret);\n      });\n  }, []);\n\n  useEffect(() => {\n    if (socket && secret && id) {\n      socket.on('connect', (() => {socket.emit('register_sid', secret)}));\n      socket.on('queue_complete', (() => {\n        console.log('queue complete');\n        socket.emit('join_room', secret);\n        setQueueStatus('out');\n      }));\n      socket.on('send_message_to_client', ((message) => {\n        setMessages(messages.concat([message]));\n      }));\n    }\n  }, [secret, id, socket, messages]);\n\n  // Update children components when messages are added or deleted\n  useEffect(() => {\n    console.log(\"rerendering with following messages:\", messages);\n  }, [messages]);\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.title}>\n        Talk To Me\n      </div>\n      {queueStatus === 'out' ?\n        <ChatWindow messages={messages} setMessages={setMessages} user_id={id} secret={secret} api_url={api_url}/> :\n        <div className={classes.waitMessage}>\n          You are now in queue...\n        </div>\n      }\n    </div>\n  );\n}\n\nexport default Chat;\n","import {useEffect} from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport {Helmet} from 'react-helmet';\nimport {NavLink, Route, HashRouter} from 'react-router-dom';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport './App.css';\nimport Welcome from './Welcome';\nimport Chat from './Chat';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    'font-family': 'Roboto',\n  },\n  topbar: {\n    'width': '100%',\n    'height': '70px',\n    'background': 'radial-gradient(circle, rgba(254,131,67,1) 0%, rgba(248,74,98,1) 100%)',\n    'border-radius': '2px',\n    'color': 'white',\n    'padding-top': '10px',\n    'padding-bottom': '10px',\n    'display': 'flex',\n    'justify-content': 'space-between',\n  },\n  menuIcon: {\n    'font-size': '30pt',\n    'margin-top': '14px',\n    'margin-left': '10px',\n  },\n  title: {\n    'textTransform': 'none',\n    'padding-top': '5px',\n    'color': 'white',\n    'font-weight': '900',\n    'font-size': '40pt',\n  }\n}));\n\n/**\n * Main root component\n *\n * @return {object} JSX\n */\nfunction App() {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <Helmet>\n        <title>Talk To Me</title>\n      </Helmet>\n      <HashRouter>\n        <div className={classes.topbar}>\n          <MenuIcon className={classes.menuIcon}/>\n          <Button\n            className={classes.title}\n            component={NavLink}\n            to='/'>\n            Talk To Me\n          </Button>\n          <div></div>\n        </div>\n        <Route exact path='/'>\n          <Welcome />\n        </Route>\n        <Route path='/chat'>\n          <Chat />\n        </Route>\n      </HashRouter>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}